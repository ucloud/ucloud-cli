//Code is generated by ucloud code generator, don't modify it by hand, it will cause undefined behaviors.
//go:generate ucloud-gen-go-api UPHost ReinstallPHost

package uphost

import (
	"github.com/ucloud/ucloud-sdk-go/ucloud/request"
	"github.com/ucloud/ucloud-sdk-go/ucloud/response"
)

// ReinstallPHostRequest is request schema for ReinstallPHost action
type ReinstallPHostRequest struct {
	request.CommonBase

	// 可用区。参见 [可用区列表](../summary/regionlist.html)
	// Zone *string `required:"true"`

	// PHost资源ID
	PHostId *string `required:"true"`

	// 密码
	Password *string `required:"true"`

	// 镜像Id，参考镜像列表，默认使用原镜像
	ImageId *string `required:"false"`

	// 物理机名称，默认不更改
	Name *string `required:"false"`

	// 物理机备注，默认为不更改。
	Remark *string `required:"false"`

	// 业务组，默认不更改。
	Tag *string `required:"false"`

	// 是否保留数据盘，保留：Yes，不报留：No， 默认：Yes
	ReserveDisk *string `required:"false"`

	// 不保留数据盘重装，可选Raid
	Raid *string `required:"false"`
}

// ReinstallPHostResponse is response schema for ReinstallPHost action
type ReinstallPHostResponse struct {
	response.CommonBase

	// PHost 的资源ID
	PHostId string
}

// NewReinstallPHostRequest will create request of ReinstallPHost action.
func (c *UPHostClient) NewReinstallPHostRequest() *ReinstallPHostRequest {
	req := &ReinstallPHostRequest{}

	// setup request with client config
	c.Client.SetupRequest(req)

	// setup retryable with default retry policy (retry for non-create action and common error)
	req.SetRetryable(true)
	return req
}

// ReinstallPHost - 重装物理机操作系统
func (c *UPHostClient) ReinstallPHost(req *ReinstallPHostRequest) (*ReinstallPHostResponse, error) {
	var err error
	var res ReinstallPHostResponse

	err = c.Client.InvokeAction("ReinstallPHost", req, &res)
	if err != nil {
		return &res, err
	}

	return &res, nil
}
